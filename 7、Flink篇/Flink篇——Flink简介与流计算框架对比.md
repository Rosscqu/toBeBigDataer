

### 1、流计算框架对比

|                | Flink                                                        | Spark streaming                                              | Storm                                                        |
| -------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 架构           | 架构介于Spark和storm之间，主从结构与Spark streaming相似，DataFlow Graph与storm相似 | 架构依赖spark，主从模式，每个Batch的处理都依赖主，可以理解为时间维度的spark DAG | 主从模式，依赖ZK，处理过程对主的依赖不大                     |
| 处理模式       | Native                                                       | 微批                                                         | Native                                                       |
| 容错           | 基于**Chandy-Lamport**分布式快照机制                         | WAL及RDD血统机制                                             | Records ACK                                                  |
| 处理模型与延迟 | 单条事件处理；亚秒级低延迟                                   | 一个事件窗口内的所有事件；秒级，高延迟                       | 每次传入的一个事件；亚秒级，低延迟                           |
| 吞吐           | 高                                                           | 高                                                           | 中                                                           |
| 数据处理保证   | Exactly-once                                                 | Exactly-once（采用Chandy-Lamport算法，即marker-checkpoint）  | At least once（实现采用record-level-acknowledge），Trident可以支持storm提供exactly-once |
| 高级API        | 机器学习、图分析、关系式数据处理                             | 对接spark生态的组件                                          | 按照特定的storm定义的规则编写                                |
| 易用性         | 支持SQL、batch和streaming采用统一编程框架                    | 支持SQL、Batch和Streaming采用统一编程框架                    | 不支持SQL                                                    |
| 部署           | 部署依赖JAR                                                  | 不是依赖JAR                                                  | 部署依赖JAR和Zookeeper                                       |



### 2、Flink特性

1）统一数据处理组件栈，处理不同类型的数据需求：批处理、流处理、机器学习、图计算等；

2）支持事件事件、接入时间、处理时间等时间概念；

3）基于轻量级分布式快照实现容错（重点）；

4）支持有状态计算（重点）：支持大规模状态，灵活的状态后端（内存、HDFS、RocksDB）；

5）支持高度灵活的窗口操作；

6）带反压的连续流模型；

7）基于JVM实现独立的内存管理



### 3、Flink应用场景

#### 3.1 实时监控

1）用户行为预警、app crash预警、服务器攻击预警；

2）对用户行为或相关事件进行实时监测和分析，基于风控规则进行预警；

Flink支持事件驱动型应用的优势：

- 高效的状态管理：
- 丰富的窗口支持：
- 多种时间语义：
- 不同级别的容错：

#### 3.2 实时大屏

1）双十一、双十二等活动直播大屏；

2）数据化运营；

3）对外数据产品

#### 3.3 流数据分析

1）实时计算相关指标，及时调整决策；

2）内容投放、无限智能推送、实时个性化推荐等

#### 3.4 实时数据仓库

ETL的目的是将业务系统的数据经过抽取、清洗转换、加载到数据仓库的过程。

Flink在实时数仓和实时ETL的优势：

- 状态管理：
- 丰富、易用的API：
- 生态完善：
- 批流一体：



